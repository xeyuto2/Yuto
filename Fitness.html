<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FitPro Elite - Premium AI Fitness Platform</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root {
      --primary: #667eea;
      --primary-dark: #5a6fd8;
      --secondary: #764ba2;
      --accent: #f093fb;
      --success: #4facfe;
      --warning: #f9ca24;
      --danger: #f0932b;
      --dark: #2c3e50;
      --light: #ecf0f1;
    }

    * { box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      margin: 0;
      color: #2c3e50;
    }

    .glass { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px); border: 1px solid rgba(255, 255, 255, 0.2); }
    .card { background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(10px); border-radius: 20px; padding: 24px; border: 1px solid rgba(255, 255, 255, 0.3); box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37); transition: all 0.3s ease; }
    .card:hover { transform: translateY(-5px); box-shadow: 0 15px 40px rgba(31, 38, 135, 0.5); }
    .btn { padding: 12px 24px; border-radius: 12px; font-weight: 600; border: none; cursor: pointer; transition: all 0.3s ease; position: relative; overflow: hidden; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: 8px; }
    .btn:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15); }
    .btn-primary { background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; }
    .btn-secondary { background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); color: var(--dark); }
    .btn-accent { background: linear-gradient(135deg, var(--accent) 0%, var(--secondary) 100%); color: white; }
    .btn-success { background: linear-gradient(135deg, var(--success) 0%, #00d2ff 100%); color: white; }
    .input { width: 100%; padding: 12px 16px; border: 2px solid rgba(255, 255, 255, 0.3); border-radius: 12px; background: rgba(255, 255, 255, 0.9); font-size: 14px; transition: all 0.3s ease; }
    .input:focus { outline: none; border-color: var(--primary); box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1); }
    .tab { background: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.8); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.3s ease; }
    .tab:hover { background: rgba(255, 255, 255, 0.2); color: white; }
    .tab-active { background: rgba(255, 255, 255, 0.9); color: var(--primary); font-weight: 700; }
    .hidden { display: none; }
    .gradient-text { background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text; }
    .hero-bg { background: linear-gradient(135deg, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0.05) 100%); backdrop-filter: blur(10px); border: 1px solid rgba(255,255,255,0.2); }
    .modal { position: fixed; inset: 0; background: rgba(0,0,0,0.8); display: flex; align-items: center; justify-content: center; z-index: 1000; backdrop-filter: blur(5px); }
    .progress-ring { transform: rotate(-90deg); }
    .floating-btn { position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; border-radius: 50%; background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%); color: white; border: none; font-size: 24px; cursor: pointer; box-shadow: 0 8px 25px rgba(102, 126, 234, 0.4); transition: all 0.3s ease; z-index: 100; }
    .floating-btn:hover { transform: scale(1.1); box-shadow: 0 12px 35px rgba(102, 126, 234, 0.6); }
    .stat-card { text-align: center; padding: 20px; border-radius: 16px; background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); transition: all 0.3s ease; }
    .stat-card:hover { transform: translateY(-3px); box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); }
    .workout-card { border-radius: 16px; padding: 20px; margin-bottom: 16px; background: rgba(255, 255, 255, 0.95); border-left: 4px solid var(--primary); transition: all 0.3s ease; }
    .workout-card:hover { transform: translateX(5px); box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1); }
    .nav-header { background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px); border-bottom: 1px solid rgba(255, 255, 255, 0.2); padding: 16px 0; position: sticky; top: 0; z-index: 50; }
    @keyframes fadeInUp { from { opacity: 0; transform: translateY(30px);} to { opacity: 1; transform: translateY(0);} }
    .fade-in-up { animation: fadeInUp 0.6s ease-out; }
    .mobile-nav { position: fixed; bottom: 0; left: 0; right: 0; background: rgba(255, 255, 255, 0.95); backdrop-filter: blur(20px); padding: 12px 0; border-top: 1px solid rgba(255, 255, 255, 0.3); z-index: 100; }
    @media (max-width: 768px) {
      .container { padding: 16px; }
      .card { padding: 16px; margin-bottom: 16px; }
      .btn { padding: 10px 16px; font-size: 14px; }
      .desktop-nav { display: none !important; }
      .mobile-nav { display: block !important; }
      .hero-grid { grid-template-columns: 1fr !important; gap: 20px !important; }
      .stats-grid { grid-template-columns: repeat(2,1fr) !important; }
      .workout-layout, .nutrition-layout, .progress-layout { grid-template-columns: 1fr !important; }
      .macro-cards { grid-template-columns: repeat(2,1fr) !important; }
    }
  </style>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loadingScreen" class="modal">
    <div class="card text-center" style="max-width: 400px; margin: 0 16px;">
      <div style="font-size: 48px; margin-bottom: 16px;">üí™</div>
      <h2 style="font-size: 24px; font-weight: 800; margin-bottom: 8px;">FitPro Elite</h2>
      <p style="color: #666; margin-bottom: 20px;">Loading your premium fitness experience...</p>
      <div style="width: 100%; height: 4px; background: #e0e0e0; border-radius: 2px; overflow: hidden;">
        <div id="loadingBar" style="height: 100%; background: linear-gradient(90deg, var(--primary), var(--secondary)); width: 0%; transition: width 0.3s ease;"></div>
      </div>
    </div>
  </div>

  <!-- Auth Modal -->
  <div id="authModal" class="modal hidden">
    <div class="card" style="max-width: 420px; margin: 0 16px;">
      <div class="text-center mb-6">
        <div style="font-size: 48px; margin-bottom: 16px;">üèãÔ∏è</div>
        <h2 class="text-2xl font-extrabold mb-2 gradient-text">Welcome to FitPro Elite</h2>
        <p class="text-gray-600">Your premium AI fitness companion</p>
      </div>
      <div class="mb-4">
        <input id="authEmail" type="email" class="input mb-3" placeholder="Email address" />
        <input id="authPassword" type="password" class="input" placeholder="Password" />
      </div>
      <div class="mb-4">
        <button id="loginBtn" class="btn btn-primary w-full mb-2">Sign In</button>
        <button id="signupBtn" class="btn btn-secondary w-full mb-2">Create Account</button>
        <button id="guestBtn" class="btn btn-accent w-full">Continue as Guest</button>
      </div>
      <p class="text-xs text-center text-gray-500">Demo app - All data stored locally on your device</p>
    </div>
  </div>

  <!-- Navigation -->
  <header class="nav-header">
    <div class="container" style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <div class="w-10 h-10 rounded-xl flex items-center justify-center font-extrabold text-white" style="background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);">F</div>
          <div>
            <h1 class="text-white font-extrabold text-base m-0">FitPro Elite</h1>
            <p class="text-xs m-0" style="color: rgba(255,255,255,0.8)">Premium AI Fitness</p>
          </div>
        </div>
        <nav class="flex gap-2 desktop-nav">
          <button class="tab tab-btn px-4 py-2 rounded-lg" data-tab="dashboard">Dashboard</button>
          <button class="tab tab-btn px-4 py-2 rounded-lg" data-tab="workouts">Workouts</button>
          <button class="tab tab-btn px-4 py-2 rounded-lg" data-tab="nutrition">Nutrition</button>
          <button class="tab tab-btn px-4 py-2 rounded-lg" data-tab="progress">Progress</button>
          <button class="tab tab-btn px-4 py-2 rounded-lg" data-tab="ai-coach">AI Coach</button>
        </nav>
        <div class="flex items-center gap-3">
          <span id="userBadge" class="text-white font-semibold">Guest</span>
          <button id="logoutBtn" class="btn btn-secondary px-4 py-2 text-xs">Sign Out</button>
        </div>
      </div>
    </div>
  </header>

  <!-- Mobile Navigation -->
  <div class="mobile-nav hidden">
    <div class="flex justify-around">
      <button class="tab-btn" data-tab="dashboard" style="display: flex; flex-direction: column; align-items: center; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px; border-radius: 8px; transition: all 0.3s ease;">
        <span style="font-size: 20px;">üìä</span>
        <span style="font-size: 10px; font-weight: 600;">Dashboard</span>
      </button>
      <button class="tab-btn" data-tab="workouts" style="display: flex; flex-direction: column; align-items: center; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px; border-radius: 8px; transition: all 0.3s ease;">
        <span style="font-size: 20px;">üí™</span>
        <span style="font-size: 10px; font-weight: 600;">Workouts</span>
      </button>
      <button class="tab-btn" data-tab="nutrition" style="display: flex; flex-direction: column; align-items: center; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px; border-radius: 8px; transition: all 0.3s ease;">
        <span style="font-size: 20px;">ü•ó</span>
        <span style="font-size: 10px; font-weight: 600;">Nutrition</span>
      </button>
      <button class="tab-btn" data-tab="progress" style="display: flex; flex-direction: column; align-items: center; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px; border-radius: 8px; transition: all 0.3s ease;">
        <span style="font-size: 20px;">üìà</span>
        <span style="font-size: 10px; font-weight: 600;">Progress</span>
      </button>
      <button class="tab-btn" data-tab="ai-coach" style="display: flex; flex-direction: column; align-items: center; gap: 4px; background: none; border: none; cursor: pointer; padding: 8px; border-radius: 8px; transition: all 0.3s ease;">
        <span style="font-size: 20px;">ü§ñ</span>
        <span style="font-size: 10px; font-weight: 600;">AI Coach</span>
      </button>
    </div>
  </div>

  <!-- Main Content -->
  <main class="container" style="max-width: 1200px; margin: 0 auto; padding: 20px; padding-bottom: 100px;">

    <!-- Dashboard Section -->
    <section id="dashboard" class="tab-content">
      <!-- Hero -->
      <div class="hero-bg rounded-3xl p-10 mb-8">
        <div class="grid hero-grid" style="grid-template-columns: 1fr 1fr; gap: 40px; align-items: center;">
          <div class="fade-in-up">
            <div class="inline-flex items-center gap-2 bg-white/20 px-4 py-2 rounded-full mb-5 text-white text-xs font-semibold">
              <span>‚ú®</span> Premium Features Active
            </div>
            <h2 class="text-5xl font-black mb-4 text-white leading-tight">Your AI Fitness<br><span style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Revolution</span></h2>
            <p class="text-lg text-white/90 mb-6 leading-relaxed">Personalized workouts, intelligent nutrition tracking, and real-time AI coaching.</p>
            <div class="flex gap-3 flex-wrap">
              <button class="btn btn-primary tab-btn" data-tab="workouts">Start Workout</button>
              <button class="btn btn-accent tab-btn" data-tab="ai-coach">AI Coach</button>
            </div>
          </div>
          <div class="grid stats-grid" style="grid-template-columns: 1fr 1fr; gap: 16px;">
            <div class="stat-card">
              <div class="text-3xl font-extrabold" style="color: var(--primary);" id="totalWorkouts">0</div>
              <div class="text-xs text-gray-600 mt-1">Total Workouts</div>
            </div>
            <div class="stat-card">
              <div class="text-3xl font-extrabold" style="color: var(--success);" id="currentStreak">0</div>
              <div class="text-xs text-gray-600 mt-1">Day Streak</div>
            </div>
            <div class="stat-card">
              <div class="text-3xl font-extrabold" style="color: var(--accent);" id="totalCalories">0</div>
              <div class="text-xs text-gray-600 mt-1">Calories Burned</div>
            </div>
            <div class="stat-card">
              <div class="text-3xl font-extrabold" style="color: var(--secondary);" id="strengthGain">0%</div>
              <div class="text-xs text-gray-600 mt-1">Strength Gain</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="grid" style="grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; margin-bottom: 32px;">
        <div class="card">
          <h3 class="text-lg font-bold mb-4">Today's Workout</h3>
          <div id="todayWorkout" class="mb-5 text-gray-600">Complete your profile setup to see personalized workouts</div>
          <button class="btn btn-primary tab-btn w-full" data-tab="workouts">Start Training</button>
        </div>
        <div class="card">
          <h3 class="text-lg font-bold mb-4">Nutrition Goals</h3>
          <div class="mb-4">
            <div class="flex justify-between text-sm mb-2"><span>Daily Calories</span><span><span id="consumedCals">0</span>/<span id="targetCals">2000</span></span></div>
            <div class="w-full h-2 bg-gray-200 rounded"><div id="calorieProgress" class="h-full rounded" style="background: linear-gradient(90deg, var(--success) 0%, #00d2ff 100%); width: 0%; transition: width 0.5s ease;"></div></div>
          </div>
          <button class="btn btn-success tab-btn w-full" data-tab="nutrition">Log Meal</button>
        </div>
        <div class="card">
          <h3 class="text-lg font-bold mb-4">AI Insights</h3>
          <div id="aiInsight" class="mb-5 text-gray-600 text-sm leading-6">Your AI coach is learning your patterns. Complete a few workouts to unlock personalized insights!</div>
          <button class="btn btn-accent tab-btn w-full" data-tab="ai-coach">Chat with AI</button>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="card">
        <h3 class="text-lg font-bold mb-5">Recent Activity</h3>
        <div id="activityFeed" class="text-center p-10 text-gray-500">
          <div class="text-5xl mb-4">üéØ</div>
          <p>No recent activity yet. Start your fitness journey!</p>
        </div>
      </div>
    </section>

    <!-- Workouts Section -->
    <section id="workouts" class="tab-content hidden">
      <div class="flex items-center justify-between mb-6">
        <div>
          <h2 class="text-2xl font-extrabold mb-2">Workouts</h2>
          <p class="text-gray-600">AI-powered training programs that adapt to you</p>
        </div>
        <div class="flex gap-3">
          <button id="newWorkoutBtn" class="btn btn-primary">New Workout</button>
          <button id="workoutHistoryBtn" class="btn btn-secondary">History</button>
        </div>
      </div>

      <!-- Active Workout Timer -->
      <div id="workoutTimer" class="card hidden" style="background: linear-gradient(135deg, var(--success) 0%, #00d2ff 100%); color: white; margin-bottom: 24px;">
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-lg font-bold mb-1">Workout in Progress</h3>
            <p id="currentExercise" class="opacity-90 m-0">Push-ups - Set 1 of 3</p>
          </div>
          <div class="text-right">
            <div id="timerDisplay" class="text-2xl font-extrabold">00:00</div>
            <div class="text-xs opacity-80">Elapsed Time</div>
          </div>
        </div>
        <div class="flex gap-3 mt-5">
          <button id="completeSetBtn" class="btn bg-white/20 text-white border border-white/30">Complete Set</button>
          <button id="skipSetBtn" class="btn bg-white/20 text-white border border-white/30">Skip</button>
          <button id="pauseWorkoutBtn" class="btn bg-white/20 text-white border border-white/30">Pause</button>
        </div>
      </div>

      <!-- Weekly Plan + Sidebar -->
      <div class="grid workout-layout" style="grid-template-columns: 2fr 1fr; gap: 24px;">
        <div>
          <h3 class="text-lg font-bold mb-5">This Week's Plan</h3>
          <div id="weeklyWorkouts" class="grid gap-4"></div>
        </div>
        <div>
          <div class="card mb-5">
            <h3 class="text-base font-bold mb-4">This Week</h3>
            <div class="flex justify-between mb-2 text-sm"><span>Completed</span><span class="font-semibold" id="weeklyProgress">0/4</span></div>
            <div class="flex justify-between mb-2 text-sm"><span>Total Volume</span><span class="font-semibold" id="totalVolume">0 kg</span></div>
            <div class="flex justify-between text-sm"><span>Calories Burned</span><span class="font-semibold" id="caloriesBurned">0</span></div>
          </div>
          <div class="card">
            <h3 class="text-base font-bold mb-4">AI Recommendations</h3>
            <div id="aiRecommendations" class="text-sm text-gray-600 leading-6">Complete your first workout to receive personalized AI recommendations for optimal training.</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Nutrition Section -->
    <section id="nutrition" class="tab-content hidden">
      <div class="flex items-center justify-between mb-6">
        <div>
          <h2 class="text-2xl font-extrabold mb-2">Nutrition</h2>
          <p class="text-gray-600">Smart meal tracking with AI-powered insights</p>
        </div>
        <button id="scanFoodBtn" class="btn btn-accent">üì∏ Scan Food</button>
      </div>
      <div class="grid macro-cards" style="grid-template-columns: repeat(4, 1fr); gap: 16px; margin-bottom: 32px;">
        <div class="card text-center">
          <div id="dailyCaloriesIntake" class="text-2xl font-extrabold" style="color: var(--primary);">0</div>
          <div class="text-xs text-gray-600 mt-1">Calories</div>
          <div id="caloriesTarget" class="text-[10px] text-gray-400">/ 2000 target</div>
        </div>
        <div class="card text-center">
          <div id="dailyProtein" class="text-2xl font-extrabold" style="color: var(--success);">0g</div>
          <div class="text-xs text-gray-600 mt-1">Protein</div>
          <div id="proteinTarget" class="text-[10px] text-gray-400">/ 150g target</div>
        </div>
        <div class="card text-center">
          <div id="dailyCarbs" class="text-2xl font-extrabold" style="color: var(--warning);">0g</div>
          <div class="text-xs text-gray-600 mt-1">Carbs</div>
          <div id="carbsTarget" class="text-[10px] text-gray-400">/ 250g target</div>
        </div>
        <div class="card text-center">
          <div id="dailyFats" class="text-2xl font-extrabold" style="color: var(--secondary);">0g</div>
          <div class="text-xs text-gray-600 mt-1">Fats</div>
          <div id="fatsTarget" class="text-[10px] text-gray-400">/ 67g target</div>
        </div>
      </div>

      <div class="grid nutrition-layout" style="grid-template-columns: 2fr 1fr; gap: 24px;">
        <div>
          <div class="card mb-5">
            <h3 class="text-lg font-bold mb-5">Add Meal</h3>
            <div class="grid md:grid-cols-2 gap-3">
              <input id="mealName" class="input" placeholder="Meal name (e.g., Chicken & Rice)" />
              <input id="mealCalories" class="input" placeholder="Calories" type="number" />
              <input id="mealProtein" class="input" placeholder="Protein (g)" type="number" />
              <input id="mealCarbs" class="input" placeholder="Carbs (g)" type="number" />
              <input id="mealFats" class="input" placeholder="Fats (g)" type="number" />
              <button id="addMealBtn" class="btn btn-success">Add Meal</button>
            </div>
          </div>
          <div class="card">
            <h3 class="text-lg font-bold mb-4">Today's Meals</h3>
            <div id="mealsList" class="space-y-3"></div>
          </div>
        </div>
        <div>
          <div class="card">
            <h3 class="text-base font-bold mb-4">Nutrition Over Time</h3>
            <canvas id="calorieChart" height="200"></canvas>
          </div>
        </div>
      </div>
    </section>

    <!-- Progress Section -->
    <section id="progress" class="tab-content hidden">
      <div class="flex items-center justify-between mb-6">
        <div>
          <h2 class="text-2xl font-extrabold mb-2">Progress</h2>
          <p class="text-gray-600">Track strength, volume, and body metrics</p>
        </div>
        <div class="flex gap-3">
          <button id="exportDataBtn" class="btn btn-secondary">Export Data</button>
          <button id="resetDataBtn" class="btn btn-accent">Reset</button>
        </div>
      </div>
      <div class="grid progress-layout" style="grid-template-columns: 1.2fr 1fr; gap: 24px;">
        <div class="card">
          <h3 class="text-base font-bold mb-4">Training Volume (kg)</h3>
          <canvas id="volumeChart" height="220"></canvas>
        </div>
        <div class="card">
          <h3 class="text-base font-bold mb-4">Bodyweight (kg)</h3>
          <div class="flex gap-2 mb-3">
            <input id="bodyweightInput" class="input" placeholder="Today's bodyweight" type="number" step="0.1" />
            <button id="addBodyweightBtn" class="btn btn-primary">Add</button>
          </div>
          <canvas id="bodyweightChart" height="200"></canvas>
        </div>
      </div>
      <div class="card mt-6">
        <h3 class="text-base font-bold mb-4">Personal Records</h3>
        <div id="prList" class="grid md:grid-cols-2 gap-3 text-sm"></div>
      </div>
    </section>

    <!-- AI Coach Section -->
    <section id="ai-coach" class="tab-content hidden">
      <div class="flex items-center justify-between mb-6">
        <div>
          <h2 class="text-2xl font-extrabold mb-2">AI Coach</h2>
          <p class="text-gray-600">Daily check-ins, guidance, and progression</p>
        </div>
      </div>

      <div class="grid md:grid-cols-3 gap-4">
        <!-- Daily Check-in Card -->
        <div class="card md:col-span-1">
          <h3 class="text-lg font-bold mb-4">Daily Check-In</h3>
          <div class="space-y-3">
            <label class="text-sm font-semibold">Energy (1-10)</label>
            <input id="ciEnergy" type="number" min="1" max="10" class="input" placeholder="e.g., 7" />
            <label class="text-sm font-semibold">Sleep (hrs)</label>
            <input id="ciSleep" type="number" min="0" step="0.1" class="input" placeholder="e.g., 7.5" />
            <label class="text-sm font-semibold">Soreness (1-10)</label>
            <input id="ciSoreness" type="number" min="1" max="10" class="input" placeholder="e.g., 3" />
            <label class="text-sm font-semibold">Notes</label>
            <textarea id="ciNotes" class="input" placeholder="How do you feel today?"></textarea>
            <button id="submitCheckin" class="btn btn-primary w-full">Submit</button>
          </div>
        </div>
        
        <!-- Coach Feedback -->
        <div class="card md:col-span-2">
          <h3 class="text-lg font-bold mb-4">Coach Feedback</h3>
          <div id="coachFeedback" class="text-sm text-gray-700 leading-6">
            Submit a check-in to get tailored guidance on today's training load, rest times, and progression.
          </div>
        </div>
      </div>

      <!-- Recent Check-ins -->
      <div class="card mt-4">
        <h3 class="text-base font-bold mb-4">Recent Check-ins</h3>
        <div id="checkinList" class="space-y-3 text-sm"></div>
      </div>
    </section>
  </main>

  <!-- Floating Quick Check-In Button -->
  <button id="quickCheckinBtn" class="floating-btn" title="Quick Check-In">‚ûï</button>

  <!-- Quick Check-in Modal -->
  <div id="quickModal" class="modal hidden">
    <div class="card w-full max-w-md mx-4">
      <div class="flex items-center justify-between mb-3">
        <h3 class="text-lg font-bold">Quick Check-In</h3>
        <button id="closeQuickModal" class="btn btn-secondary px-3 py-2">Close</button>
      </div>
      <div class="grid gap-3 mb-4">
        <input id="qmEnergy" class="input" type="number" min="1" max="10" placeholder="Energy (1-10)" />
        <input id="qmSleep" class="input" type="number" step="0.1" placeholder="Sleep (hrs)" />
        <input id="qmSoreness" class="input" type="number" min="1" max="10" placeholder="Soreness (1-10)" />
        <textarea id="qmNotes" class="input" placeholder="Notes"></textarea>
      </div>
      <button id="saveQuickCheckin" class="btn btn-primary w-full">Save</button>
    </div>
  </div>

  <script>
    // ===== Utilities & Storage =====
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => Array.from(document.querySelectorAll(sel));
    const todayKey = () => new Date().toISOString().slice(0,10);

    const store = {
      get(k, d){ try { return JSON.parse(localStorage.getItem(k)) ?? d; } catch { return d; } },
      set(k, v){ localStorage.setItem(k, JSON.stringify(v)); },
      push(k, item){ const arr = store.get(k, []); arr.push(item); store.set(k, arr); }
    };

    // ===== Auth (Local Demo) =====
    const auth = {
      user: store.get('user', { email: 'guest@fitpro', name: 'Guest' }),
      login(email){ this.user = { email, name: email.split('@')[0] }; store.set('user', this.user); },
      logout(){ this.user = { email: 'guest@fitpro', name: 'Guest' }; store.set('user', this.user); }
    };

    // ===== Program Template (4 days + 3 active recovery) =====
    const baseProgram = [
      { day: 'Day 1 ‚Äì Lower Body (Heavy)', focus: 'Lower', 
        exercises: [
          { name: 'Back Squat', sets: 4, reps: 5, add: 2.5 },
          { name: 'Romanian Deadlift', sets: 3, reps: 8, add: 2 },
          { name: 'Walking Lunge (each)', sets: 3, reps: 10, add: 0 },
          { name: 'Standing Calf Raise', sets: 4, reps: 12, add: 0 },
          { name: 'Plank Hold (sec)', sets: 3, reps: 45, add: 5 }
        ] },
      { day: 'Day 2 ‚Äì Upper Push', focus: 'Push',
        exercises: [
          { name: 'Bench Press', sets: 4, reps: 5, add: 2.5 },
          { name: 'Overhead Press', sets: 3, reps: 6, add: 2 },
          { name: 'Incline DB Press', sets: 3, reps: 8, add: 2 },
          { name: 'Lateral Raise', sets: 3, reps: 12, add: 0 },
          { name: 'Dips', sets: 3, reps: 10, add: 0 }
        ] },
      { day: 'Day 3 ‚Äì Active Recovery', focus: 'Recovery',
        exercises: [
          { name: 'Brisk Walk (min)', sets: 1, reps: 30, add: 0 },
          { name: 'Foam Roll (min)', sets: 1, reps: 10, add: 0 },
          { name: 'Core Circuit', sets: 3, reps: 10, add: 0 }
        ] },
      { day: 'Day 4 ‚Äì Lower (Pull Focus)', focus: 'Lower',
        exercises: [
          { name: 'Deadlift', sets: 4, reps: 3, add: 2.5 },
          { name: 'Front Squat', sets: 3, reps: 6, add: 2 },
          { name: 'Bulgarian Split Squat (each)', sets: 3, reps: 8, add: 0 },
          { name: 'Hip Thrust', sets: 3, reps: 12, add: 2 },
          { name: 'Hanging Leg Raise', sets: 3, reps: 10, add: 0 }
        ] },
      { day: 'Day 5 ‚Äì Upper Pull', focus: 'Pull',
        exercises: [
          { name: 'Pull-Up', sets: 4, reps: 6, add: 0 },
          { name: 'Barbell Row', sets: 4, reps: 6, add: 2 },
          { name: 'Seated Cable Row', sets: 3, reps: 10, add: 1 },
          { name: 'Face Pull', sets: 3, reps: 12, add: 0 },
          { name: 'Curl', sets: 3, reps: 10, add: 0 }
        ] },
      { day: 'Day 6 ‚Äì Active Recovery', focus: 'Recovery',
        exercises: [
          { name: 'Cardio (min)', sets: 1, reps: 30, add: 0 },
          { name: 'Mobility (min)', sets: 1, reps: 15, add: 0 }
        ] },
      { day: 'Day 7 ‚Äì Rest', focus: 'Rest', exercises: [] }
    ];

    // ===== State =====
    const state = {
      program: store.get('program', baseProgram),
      workingMaxes: store.get('workingMaxes', {
        'Back Squat': 60, 'Romanian Deadlift': 50, 'Walking Lunge (each)': 16,
        'Standing Calf Raise': 60, 'Plank Hold (sec)': 45, 'Bench Press': 50,
        'Overhead Press': 30, 'Incline DB Press': 24, 'Lateral Raise': 8,
        'Dips': 0, 'Deadlift': 80, 'Front Squat': 45, 'Bulgarian Split Squat (each)': 16,
        'Hip Thrust': 60, 'Hanging Leg Raise': 0, 'Pull-Up': 0, 'Barbell Row': 40,
        'Seated Cable Row': 35, 'Face Pull': 20, 'Curl': 12, 'Cardio (min)': 0, 'Mobility (min)': 0,
        'Brisk Walk (min)': 0, 'Foam Roll (min)': 0, 'Core Circuit': 0
      }),
      checkins: store.get('checkins', []),
      meals: store.get('meals-'+todayKey(), []),
      nutritionTargets: store.get('nutritionTargets', { cals: 2000, p: 150, c: 250, f: 67 }),
      workouts: store.get('workouts', []),
      bodyweight: store.get('bodyweight', [])
    };

    // ===== Tabs =====
    function setActiveTab(tab){
      $$('.tab-btn').forEach(b=>b.classList.remove('tab-active'));
      $$('.tab-btn').find(b=>b.dataset.tab===tab)?.classList.add('tab-active');
      $$('.tab-content').forEach(sec=>sec.classList.add('hidden'));
      $('#'+tab)?.classList.remove('hidden');
    }

    // ===== Loading Simulation =====
    function showApp(){
      const lb = $('#loadingBar');
      let w = 0; const i = setInterval(()=>{ w+=15; lb.style.width = Math.min(w,100)+'%'; if(w>=100){ clearInterval(i); $('#loadingScreen').classList.add('hidden'); $('#authModal').classList.add('hidden'); init(); } }, 200);
    }

    // ===== Dashboard Rendering =====
    function renderDashboard(){
      // Today
      const dw = new Date().getDay(); // 0 Sun .. 6 Sat
      const planIdx = (dw+6)%7; // make Monday index 0
      const todayPlan = state.program[planIdx];
      const tDiv = $('#todayWorkout');
      if(todayPlan.exercises.length===0){
        tDiv.innerHTML = 'Rest day. Optional mobility and a short walk.';
      } else {
        const items = todayPlan.exercises.map(ex => `<li class="flex justify-between"><span>${ex.name}</span><span class="font-semibold">${ex.sets}√ó${ex.reps}${state.workingMaxes[ex.name]?` @ ${state.workingMaxes[ex.name]}kg`:''}</span></li>`).join('');
        tDiv.innerHTML = `<div class="text-sm">${todayPlan.day}</div><ul class="mt-2 space-y-1">${items}</ul>`;
      }

      // Stats
      $('#totalWorkouts').textContent = state.workouts.length;
      $('#currentStreak').textContent = calcStreak();
      $('#totalCalories').textContent = Math.round(state.workouts.reduce((s,w)=>s+(w.calories||0),0));
      $('#strengthGain').textContent = estimateStrengthGain()+"%";

      // Activity feed
      const feed = $('#activityFeed');
      if(state.workouts.length===0){
        feed.innerHTML = `<div class="text-5xl mb-4">üéØ</div><p>No recent activity yet. Start your fitness journey!</p>`;
      } else {
        feed.innerHTML = state.workouts.slice(-5).reverse().map(w=>
          `<div class="flex items-center justify-between py-2 border-b last:border-0">
            <div>
              <div class="font-semibold">${w.name}</div>
              <div class="text-xs text-gray-500">${w.date} ‚Ä¢ ${w.duration} min ‚Ä¢ ${Math.round(w.volume)} kg</div>
            </div>
            <div class="text-sm">üî• ${Math.round(w.calories||0)}</div>
          </div>`
        ).join('');
      }
    }

    function calcStreak(){
      const days = new Set(state.workouts.map(w=>w.date));
      let streak=0; let d=new Date();
      for(;;){ const k=d.toISOString().slice(0,10); if(days.has(k)){ streak++; d.setDate(d.getDate()-1);} else break; }
      return streak;
    }

    function estimateStrengthGain(){
      // naive proxy: last 4 weeks volume trend
      const weeks = {};
      state.workouts.forEach(w=>{ weeks[w.week] = (weeks[w.week]||0) + w.volume; });
      const vals = Object.values(weeks).slice(-4);
      if(vals.length<2) return 0;
      const start = vals[0]; const end = vals[vals.length-1];
      return Math.max(0, Math.round(((end-start)/Math.max(1,start))*100));
    }

    // ===== Weekly Plan Rendering =====
    function renderWeeklyPlan(){
      const c = $('#weeklyWorkouts');
      c.innerHTML = state.program.map((p,idx)=>{
        const isRest = p.exercises.length===0;
        const exList = p.exercises.map(ex=>`<li class="flex justify-between text-sm"><span>${ex.name}</span><span class="font-semibold">${ex.sets}√ó${ex.reps}${state.workingMaxes[ex.name]?` @ ${state.workingMaxes[ex.name]}kg`:''}</span></li>`).join('');
        return `<div class="workout-card">
          <div class="flex items-start justify-between">
            <div>
              <div class="text-xs text-gray-500">${['Mon','Tue','Wed','Thu','Fri','Sat','Sun'][idx]}</div>
              <h4 class="font-bold">${p.day}</h4>
            </div>
            ${!isRest?`<button class="btn btn-primary text-sm" data-start="${idx}">Start</button>`:''}
          </div>
          ${isRest?`<p class="text-gray-600 text-sm mt-2">Rest or light mobility.</p>`:`<ul class="mt-3 space-y-1">${exList}</ul>`}
        </div>`;
      }).join('');

      // Attach start buttons
      $$('#weeklyWorkouts [data-start]').forEach(btn=>btn.addEventListener('click', ()=>startWorkout(+btn.dataset.start)));

      // Sidebar weekly summary
      const week = getWeekKey(new Date());
      const completed = state.workouts.filter(w=>w.week===week).length;
      const vol = state.workouts.filter(w=>w.week===week).reduce((s,w)=>s+w.volume,0);
      const cals = state.workouts.filter(w=>w.week===week).reduce((s,w)=>s+(w.calories||0),0);
      $('#weeklyProgress').textContent = `${completed}/4`;
      $('#totalVolume').textContent = `${Math.round(vol)} kg`;
      $('#caloriesBurned').textContent = Math.round(cals);
    }

    function getWeekKey(d){
      const dt = new Date(d);
      const onejan = new Date(dt.getFullYear(),0,1);
      const week = Math.ceil((((dt - onejan) / 86400000) + onejan.getDay()+1) / 7);
      return `${dt.getFullYear()}-W${week}`;
    }

    // ===== Workout Session =====
    let timerInt=null, startTime=null, paused=false;
    let session=null; // {idx, name, sets:[], start}

    function startWorkout(idx){
      const plan = state.program[idx];
      if(!plan || plan.exercises.length===0) return;
      session = { idx, name: plan.day, start: Date.now(), exIdx: 0, setIdx: 0, setsDone: 0, volume: 0, calories: 0, log: [] };
      $('#workoutTimer').classList.remove('hidden');
      startTime = Date.now(); paused=false; runTimer();
      renderCurrentExercise();
      setActiveTab('workouts');
    }

    function renderCurrentExercise(){
      const plan = state.program[session.idx];
      const ex = plan.exercises[session.exIdx];
      const setNo = session.setIdx+1;
      $('#currentExercise').textContent = `${ex.name} - Set ${setNo} of ${ex.sets}`;
    }

    function runTimer(){
      clearInterval(timerInt);
      timerInt = setInterval(()=>{
        if(paused) return; const elapsed = Math.floor((Date.now()-startTime)/1000);
        const m = String(Math.floor(elapsed/60)).padStart(2,'0');
        const s = String(elapsed%60).padStart(2,'0');
        $('#timerDisplay').textContent = `${m}:${s}`;
      }, 1000);
    }

    $('#pauseWorkoutBtn').addEventListener('click',()=>{ paused=!paused; $('#pauseWorkoutBtn').textContent = paused? 'Resume':'Pause'; if(!paused){ startTime = Date.now() - (session.elapsed||0); } });

    $('#completeSetBtn').addEventListener('click', ()=>{
      const plan = state.program[session.idx];
      const ex = plan.exercises[session.exIdx];
      const weight = state.workingMaxes[ex.name] || 0;
      session.setsDone++;
      session.volume += (weight>0? weight * ex.reps : 0);
      session.calories += 4; // simple estimate per set
      session.log.push({ ex: ex.name, reps: ex.reps, weight });
      session.setIdx++;
      if(session.setIdx>=ex.sets){ session.exIdx++; session.setIdx=0; }
      if(session.exIdx>=plan.exercises.length){ finishWorkout(); }
      else renderCurrentExercise();
    });

    $('#skipSetBtn').addEventListener('click', ()=>{
      const plan = state.program[session.idx];
      session.setIdx++;
      if(session.setIdx>=plan.exercises[session.exIdx].sets){ session.exIdx++; session.setIdx=0; }
      if(session.exIdx>=plan.exercises.length){ finishWorkout(); }
      else renderCurrentExercise();
    });

    function finishWorkout(){
      clearInterval(timerInt);
      const duration = Math.max(1, Math.round((Date.now()-session.start)/60000));
      const date = todayKey();
      const week = getWeekKey(new Date());
      const entry = { name: state.program[session.idx].day, date, week, duration, volume: session.volume, calories: session.calories, log: session.log };
      state.workouts.push(entry); store.set('workouts', state.workouts);
      $('#workoutTimer').classList.add('hidden');
      progressiveOverload(entry);
      renderDashboard(); renderWeeklyPlan(); updateCharts(); updatePRs();
      setActiveTab('dashboard');
    }

    // ===== Progressive Overload =====
    function progressiveOverload(workout){
      // Very simple: if last time did same day and all sets were completed, add weight = ex.add
      const plan = state.program.find(p=>p.day===workout.name);
      const completed = new Set(workout.log.map(l=>l.ex));
      plan.exercises.forEach(ex=>{
        if(ex.add>0 && completed.has(ex.name)){
          state.workingMaxes[ex.name] = Math.round(((state.workingMaxes[ex.name]||0) + ex.add)*10)/10;
        }
      });
      store.set('workingMaxes', state.workingMaxes);
    }

    // ===== Check-ins =====
    function saveCheckin(ci){
      state.checkins.push(ci); store.set('checkins', state.checkins); renderCheckins(); tailorCoach(ci);
    }

    function renderCheckins(){
      const list = $('#checkinList');
      if(state.checkins.length===0){ list.innerHTML = '<p class="text-gray-500">No check-ins yet.</p>'; return; }
      list.innerHTML = state.checkins.slice(-10).reverse().map(c=>
        `<div class="p-3 rounded-lg border bg-white/70">
          <div class="flex justify-between">
            <span class="font-semibold">${c.date}</span>
            <span class="text-xs">Energy ${c.energy}/10 ‚Ä¢ Sleep ${c.sleep}h ‚Ä¢ Soreness ${c.soreness}/10</span>
          </div>
          ${c.notes?`<div class="text-sm text-gray-600 mt-1">${c.notes}</div>`:''}
        </div>`
      ).join('');
    }

    function tailorCoach(ci){
      // Heuristics for guidance
      let msg = [];
      if(ci.energy>=7 && ci.soreness<=3){ msg.push('Crush it today: add weight on your main lift if all sets feel solid.'); }
      if(ci.sleep<6){ msg.push('Short sleep detected‚Äîextend rest to 2‚Äì3 min on compounds and avoid AMRAP today.'); }
      if(ci.soreness>=7){ msg.push('High soreness‚Äîswap heavy sets for technique work at ~60‚Äì70% and add mobility.'); }
      if(msg.length===0){ msg.push('Proceed as planned. Keep 1‚Äì2 reps in reserve on big lifts.'); }

      // Specific rest and tempo guidance
      msg.push('Rest: 2‚Äì3 min for compounds, 60‚Äì90s for accessories. Tempo: controlled eccentrics (2‚Äì3s) and full range.');

      $('#coachFeedback').innerHTML = msg.map(m=>`<p>‚Ä¢ ${m}</p>`).join('');
      // AI Recommendations panel (workouts tab)
      $('#aiRecommendations').textContent = msg.join(' ');
    }

    // Form handlers for AI Coach
    $('#submitCheckin').addEventListener('click', ()=>{
      const ci = {
        date: todayKey(),
        energy: +$('#ciEnergy').value || 5,
        sleep: +$('#ciSleep').value || 7,
        soreness: +$('#ciSoreness').value || 3,
        notes: $('#ciNotes').value||''
      };
      saveCheckin(ci);
      $('#ciEnergy').value = $('#ciSleep').value = $('#ciSoreness').value = ''; $('#ciNotes').value = '';
    });

    // Quick modal
    $('#quickCheckinBtn').addEventListener('click', ()=>$('#quickModal').classList.remove('hidden'));
    $('#closeQuickModal').addEventListener('click', ()=>$('#quickModal').classList.add('hidden'));
    $('#saveQuickCheckin').addEventListener('click', ()=>{
      const ci = { date: todayKey(), energy:+$('#qmEnergy').value||5, sleep:+$('#qmSleep').value||7, soreness:+$('#qmSoreness').value||3, notes:$('#qmNotes').value||'' };
      saveCheckin(ci); $('#quickModal').classList.add('hidden'); $('#qmEnergy').value=$('#qmSleep').value=$('#qmSoreness').value=''; $('#qmNotes').value='';
    });

    // ===== Nutrition =====
    function refreshNutrition(){
      const meals = state.meals = store.get('meals-'+todayKey(), []);
      const totals = meals.reduce((t,m)=>({ cals:t.cals+m.cals, p:t.p+m.p, c:t.c+m.c, f:t.f+m.f }), {cals:0,p:0,c:0,f:0});
      $('#dailyCaloriesIntake').textContent = totals.cals;
      $('#dailyProtein').textContent = totals.p+'g';
      $('#dailyCarbs').textContent = totals.c+'g';
      $('#dailyFats').textContent = totals.f+'g';
      $('#consumedCals').textContent = totals.cals;
      $('#targetCals').textContent = state.nutritionTargets.cals;
      $('#calorieProgress').style.width = Math.min(100, (totals.cals/state.nutritionTargets.cals*100)||0)+'%';

      const list = $('#mealsList');
      list.innerHTML = meals.map((m,i)=>
        `<div class="flex items-center justify-between p-3 rounded-lg border bg-white/80">
          <div>
            <div class="font-semibold">${m.name}</div>
            <div class="text-xs text-gray-500">${m.cals} kcal ‚Ä¢ P${m.p}/C${m.c}/F${m.f}</div>
          </div>
          <button class="btn btn-secondary px-3 py-2" data-del="${i}">Remove</button>
        </div>`
      ).join('');
      $$('#mealsList [data-del]').forEach(b=>b.addEventListener('click',()=>{ const i=+b.dataset.del; meals.splice(i,1); store.set('meals-'+todayKey(), meals); refreshNutrition(); }));
    }

    $('#addMealBtn').addEventListener('click', ()=>{
      const m = { name: $('#mealName').value||'Meal', cals:+$('#mealCalories').value||0, p:+$('#mealProtein').value||0, c:+$('#mealCarbs').value||0, f:+$('#mealFats').value||0 };
      const key = 'meals-'+todayKey(); const arr = store.get(key, []); arr.push(m); store.set(key, arr); refreshNutrition();
      $('#mealName').value=$('#mealCalories').value=$('#mealProtein').value=$('#mealCarbs').value=$('#mealFats').value='';
    });

    // ===== Charts =====
    let volumeChart, bodyweightChart, calorieChart;

    function updateCharts(){
      // Volume by date
      const byDate = {};
      state.workouts.forEach(w=>{ byDate[w.date]=(byDate[w.date]||0)+w.volume; });
      const vLabels = Object.keys(byDate).sort();
      const vData = vLabels.map(k=>Math.round(byDate[k]));
      const ctxV = $('#volumeChart').getContext('2d');
      if(volumeChart) volumeChart.destroy();
      volumeChart = new Chart(ctxV, { type:'line', data:{ labels:vLabels, datasets:[{ label:'Volume (kg)', data:vData }] }, options:{ responsive:true, plugins:{ legend:{ display:true } } });

      // Bodyweight
      const bwLabels = state.bodyweight.map(b=>b.date);
      const bwData = state.bodyweight.map(b=>b.weight);
      const ctxB = $('#bodyweightChart').getContext('2d');
      if(bodyweightChart) bodyweightChart.destroy();
      bodyweightChart = new Chart(ctxB, { type:'line', data:{ labels:bwLabels, datasets:[{ label:'Bodyweight (kg)', data:bwData }] }, options:{ responsive:true, plugins:{ legend:{ display:true } } });

      // Calories (last 7 days)
      const days = [...Array(7)].map((_,i)=>{ const d=new Date(); d.setDate(d.getDate()-i); return d.toISOString().slice(0,10); }).reverse();
      const cals = days.map(d=> (store.get('meals-'+d, [])).reduce((s,m)=>s+m.cals,0));
      const ctxC = $('#calorieChart').getContext('2d');
      if(calorieChart) calorieChart.destroy();
      calorieChart = new Chart(ctxC, { type:'bar', data:{ labels:days, datasets:[{ label:'Calories', data:cals }] }, options:{ responsive:true, plugins:{ legend:{ display:true } } });
    }

    $('#addBodyweightBtn').addEventListener('click', ()=>{
      const w = +$('#bodyweightInput').value; if(!w) return;
      state.bodyweight.push({ date: todayKey(), weight: w }); store.set('bodyweight', state.bodyweight); $('#bodyweightInput').value=''; updateCharts();
    });

    function updatePRs(){
      // naive PRs: best workingMax per main lift
      const lifts = ['Back Squat','Bench Press','Deadlift','Overhead Press','Barbell Row'];
      const html = lifts.map(l=>`<div class="p-3 rounded-lg border bg-white/70 flex items-center justify-between"><span>${l}</span><span class="font-semibold">${state.workingMaxes[l]||0} kg</span></div>`).join('');
      $('#prList').innerHTML = html;
    }

    // ===== Events: Tabs, Auth, History =====
    $$('.tab-btn').forEach(btn=>btn.addEventListener('click', ()=> setActiveTab(btn.dataset.tab)));

    $('#loginBtn').addEventListener('click', ()=>{ const em=$('#authEmail').value||'guest@fitpro'; auth.login(em); $('#userBadge').textContent = auth.user.name; $('#authModal').classList.add('hidden'); });
    $('#signupBtn').addEventListener('click', ()=>{ const em=$('#authEmail').value||'guest@fitpro'; auth.login(em); $('#userBadge').textContent = auth.user.name; $('#authModal').classList.add('hidden'); });
    $('#guestBtn').addEventListener('click', ()=>{ $('#authModal').classList.add('hidden'); });
    $('#logoutBtn').addEventListener('click', ()=>{ auth.logout(); $('#userBadge').textContent = 'Guest'; });

    $('#workoutHistoryBtn').addEventListener('click', ()=>{
      const items = state.workouts.slice().reverse().map(w=>`<div class='p-3 rounded-lg border bg-white/70 mb-2'><div class='font-semibold'>${w.name}</div><div class='text-xs text-gray-500'>${w.date} ‚Ä¢ ${w.duration} min ‚Ä¢ ${Math.round(w.volume)} kg ‚Ä¢ üî• ${Math.round(w.calories)}</div></div>`).join('');
      alert(items? items.replace(/<[^>]+>/g,'') : 'No workouts yet.');
    });

    // ===== Initialize =====
    function init(){
      setActiveTab('dashboard');
      renderDashboard();
      renderWeeklyPlan();
      refreshNutrition();
      renderCheckins();
      updateCharts();
      updatePRs();
      $('#userBadge').textContent = auth.user.name || 'Guest';
    }

    // Kickoff
    window.addEventListener('load', showApp);
  </script>
</body>
</html>
